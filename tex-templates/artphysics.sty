% name:          artphysics.sty
% version:       see scripts/VERSION.md
% synopsis:      physics macros for `TeX` documents.
% license:       BSD3
% license-file:  scripts/LICENSE.md
% author:        art rimbaud
% maintainer:    rimbaudcode[at]gmail(DoT)com
% copyright:     (c) 2017 rimbaudcode
% category:      Text

\ProvidesPackage{sty/artphysics}
                [05/11/2017 physics macros, rimbaudcode]

% amsthm package
%
\theoremheaderfont{\normalfont\scshape}
\theoremseparator{.}
\theorembodyfont{
  \normalfont\itshape%
}
\theoremsymbol{}
%
\newtheorem{assumption}{Assumption}
\newtheorem{model}{Model}
\newtheorem{observation}{Observation}
%
\theorembodyfont{\upshape}
%
\newtheorem{notation}{Notation}
\newtheorem{scaling}{Scaling}
\newtheorem{summary}{Summary}
%
\theoremstyle{plain}
\theoremheaderfont{\normalfont\scshape}
\theoremseparator{.}
\theorembodyfont{\small}
%
\newtheorem*{analyticsol}{Analytic solution}
\newtheorem*{approximation}{Approximation}
\newtheorem*{bounds}{Bounds}
\newtheorem*{construction}{Construction}
\newtheorem*{dimensions}{Dimensional analysis}
\newtheorem*{extension}{Extension}
\newtheorem*{extremes}{Extreme cases}
\newtheorem*{geometry}{Geometry}
\newtheorem*{guess}{Guesstimation}
\newtheorem*{manalysis}{Math analysis}
\newtheorem*{process}{Process}
\newtheorem*{reference}{Reference}
\newtheorem*{refine}{Refinement}
\newtheorem*{values}{Numeric values}
%
\newtheorem*{assuming}{Assume}
\newtheorem*{deriving}{Derive}
\newtheorem*{calculating}{Calculate}
\newtheorem*{checking}{Check}
%
\theoremheaderfont{
  \itshape%
}
\theorembodyfont{\upshape}
\theoremsymbol{\ensuremath{\square}}
%
\newtheorem*{argument}{Argument}
\newtheorem*{derivation}{Derivation}
\newtheorem*{interpretation}{Interpretation}

% diagrammatic tensors
%
% boxed tensor (no scalars)
%
\providecommand*{\bxtens}[1]{
  \begin{tikzpicture}[baseline=(char.base)]
    \node[draw,inner sep=2pt](char) {$#1$};
  \end{tikzpicture}
}
%
% circled tensor
%
\providecommand*{\cirtens}[1]{
  \begin{tikzpicture}[baseline=(char.base)]
    \node[draw,circle,inner sep=2pt](char) {$#1$};
  \end{tikzpicture}
}

% regions
%
\providecommand*{\bregion}{\partial}        % boundary
\providecommand*{\oregion}[1]{{#1}^{\circ}} % open set (set open)

% metric and co.
%
\providecommand*{\chris}{\Gamma}          % Christoffel's symbol
\providecommand*{\imetric}{\metric^{*}  } % inverse metric
\providecommand*{\kron}{\delta}           % Kronecker's delta
\providecommand*{\levicivi}{\epsilon}     % levi-civita (symbol)
\providecommand*{\metric}{\mathsf{g}}     % metric

% tensors
%
% slots (covector, empty, vector)
%
\providecommand*{\cslot}{{\scriptstyle{}\sim{}}}        %
\providecommand*{\eslot}{{\scriptstyle{}\_}}            %
\providecommand*{\vslot}{{\scriptstyle{}\rightarrow{}}} %
%
% products
%
\providecommand*{\cprod}{\times}  % cross product
\providecommand*{\iprod}{\cdot}   % inner product
\providecommand*{\oprod}{\wedge}  % outer product
\providecommand*{\tprod}{\otimes} % tensor product
%
% operators
%
% in words
%
\let\div\idiv%
\DeclareMathOperator{\vcurl}{curl} % vector curl
\DeclareMathOperator{\vdiv}{div}   % vector divergence
\DeclareMathOperator{\vgrad}{grad} % vector gradient
\DeclareMathOperator{\vlap}{lap}   % vector Laplacian
%
% operators with decoration
%
\providecommand*{\adt}[1]{\dot{\overline{\overline{#1}}}} % abs. deriv.
\providecommand*{\cder}[2]{{#1}|_{#2}}                    % cov. deriv.
\providecommand*{\cont}[1]{{#1}^{\natural}}               % contraction
\providecommand*{\ddt}[1]{\ddot{#1}}                      % time, time deriv.
\providecommand*{\div}[1]{\cont{\grad{#1}}}               % divergence
\providecommand*{\dt}[1]{\dot{#1}}                        % part. temp.
\providecommand*{\dx}{\mathrm{d}}                         % differential
\providecommand*{\grad}[1]{\overline{#1}}                 % gradient
\providecommand*{\lap}[1]{\overline{\overline{#1}}}       % Laplace's
\providecommand*{\mdt}[1]{\dot{\overline{#1}}}            % material deriv.
%
% * musical isomorphisms
%
\providecommand*{\fvec}[1]{{#1}^{\flat}}  % flat vector
\providecommand*{\scov}[1]{{#1}^{\sharp}} % sharp covec.
%
% without decoration
%
\providecommand*{\oadt}[1]{\overline{\overline{\mathrm{D}}_{#1}}} % abs. der.
\providecommand*{\ocder}[1]{\ograd_{#1}}                          % cov.der.
\providecommand*{\ocurl}{\ograd\cprod}                            % curl
\providecommand*{\odiv}{\ograd\iprod}                             % div.
\providecommand*{\odt}[1]{\mathrm{d}_{#1}}                        %
\providecommand*{\ograd}{\nabla}                                  % grad.
\providecommand*{\olap}{\Delta}                                   % Lap.
\providecommand*{\omdt}[1]{\mathrm{D}_{#1}}                       % mat.der.
%
\providecommand*{\heatop}{\square} % heat operator
%
\DeclareMathOperator{\ocont}{cont} % contraction
\DeclareMathOperator{\otrace}{tr}  % trace
%
% * musical isomorphisms
%
\providecommand*{\ofvec}{\flat}  % flat vector
\providecommand*{\oscov}{\sharp} % sharp covec.
%
% basis
%
\providecommand*{\belem}{e}             % basis element
\providecommand*{\bcov}{\tilde{\belem}} % basis covector
\providecommand*{\bvec}{\belem}         % basis vector

% bra-ket notation
%
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{
  {#1}\delimsize\vert{#2}
}
\DeclarePairedDelimiterX\ketbra[2]{
  \vert}{\vert}{{#1}\delimsize\rangle\delimsize\langle{#2}
}

% index-notation
%
\providecommand*{\jacob}{J}                    % Jacob's matrix
\providecommand*{\tcov}[2]{\tensor{#1}{_{#2}}} % covector
\providecommand*{\tvec}[2]{\tensor{#1}{^{#2}}} % vector
%
% physical components
\providecommand*{\pbvec}[1]{\tensor{\hat{\belem}}{_{#1}}}                %
\providecommand*{\pvec}[2]{\tensor{#1}{^{\hat{#2}}}}                     %
\providecommand*{\pmetric}[2]{\tensor{\metric}{_{\underline{{#1}{#2}}}}} %
%
\providecommand*{\pbcov}[1]{\tensor{\hat{\belem}}{^{#1}}}                 %
\providecommand*{\pcov}[2]{\tensor{#1}{_{\hat{#2}}}}                      %
\providecommand*{\pimetric}[2]{\tensor{\metric}{^{\underline{{#1}{#2}}}}} %
%
% inverse metric
\providecommand*{\timetric}[2]{\tensor{\metric}{^{#1}^{#2}}}         %
% Kronecker's delta
\providecommand*{\tkron}[2]{\tensor{\kron}{^{#1}_{#2}}}              %
% Levi-Civita
\providecommand*{\tlevicivi}[3]{\tensor{\levicivi}{_{#1}_{#2}_{#3}}} %
% metric
\providecommand*{\tmetric}[2]{\tensor{\metric}{_{#1}_{#2}}}          %
%
% basis
%
\providecommand*{\tbcov}[1]{\tensor{\bvec}{^{#1}}}             % covectors
\providecommand*{\tbvec}[1]{\tensor{\bvec}{_{#1}}}             % vectors
\providecommand*{\tchris}[3]{\tensor{\chris}{^{#1}_{#2}_{#3}}} % Chris
%
% derivatives
%
\providecommand*{\cpd}[1]{\tensor{\partial}{_{#1}}} % covector partial
\providecommand*{\vpd}[1]{\tensor{\partial}{^{#1}}} % vector partial
%
% Feynman notation
\providecommand*{\slashed}{\cancel} % covectors

% coordinate systems
%
\providecommand*{\coordbas}[3]{\seq{#1}{#2}{#3}} % coordinate basis
\providecommand*{\coordsys}[3]{\seq{#1}{#2}{#3}} % coordinate system
%
% rectangular
%
\providecommand*{\xpos}{x} % x position in rectangular coord.
\providecommand*{\ypos}{y} % y position in rectangular coord.
\providecommand*{\zpos}{z} % z position in rectangular coord.
%
% cylindrical polar
%
\providecommand*{\cxpos}{r}      % x position in cylindrical polar coord.
\providecommand*{\cypos}{\theta} % y position in cylindrical polar coord.
\providecommand*{\czpos}{z}      % z position in cylindrical polar coord.
%
% spherical polar
%
\providecommand*{\sxpos}{\rho}   % x position in spherical polar coord.
\providecommand*{\sypos}{\theta} % y position in spherical polar coord.
\providecommand*{\szpos}{\phi}   % z position in spherical polar coord.

% dimensional analysis
%
\DeclareMathOperator{\unit}{unit}           % unit
\providecommand*{\diminv}[1]{\overline{#1}} % dimensionless inverse
\providecommand*{\dq}[1]{\tilde{#1}}        % dim. physical quantity
\providecommand*{\kdim}{\Pi}                % dimensionless quantity
\providecommand*{\phdim}[1]{\si{#1}}        % physical dimension
\providecommand*{\sdder}[1]{\tder^*_{#1}}   % scaled dir. derivative
%
\DeclareMathOperator{\kdarcy}{Da}    % Darcy's number
\DeclareMathOperator{\keuler}{Eu}    % Euler's number
\DeclareMathOperator{\kfroude}{Fr}   % Froude's number
\DeclareMathOperator{\kmach}{Ma}     % Mach's number
\DeclareMathOperator{\kreynolds}{Re} % Reynolds' number
%
% scaling
%
\providecommand*{\omag}[1]{o\vat{#1}} % order-of-magnitude
\providecommand*{\scales}{\propto}    % scales as

% geometry
%
\providecommand*{\area}{a}   % area
\providecommand*{\depth}{h}  % depth
\providecommand*{\height}{h} % height
\providecommand*{\length}{l} % length
\providecommand*{\radius}{r} % radius
\providecommand*{\thick}{t}  % thickness
\providecommand*{\vol}{v}    % volume
\providecommand*{\width}{w}  % width
%
\providecommand*{\dsurf}{\dx S} % differential surface (conservation laws)
\providecommand*{\dvol}{\dx V}  % differential volume (conservation laws)

% mechanics
%
\providecommand*{\acc}{a}         % acceleration
\providecommand*{\dens}{\rho}     % density
\providecommand*{\force}{f}       % force
\providecommand*{\grav}{g}        % free-fall acceleration
\providecommand*{\mass}{m}        % mass
\providecommand*{\mom}{p}         % momentum
\providecommand*{\pos}{x}         % position
\providecommand*{\stress}{\sigma} % stress
\providecommand*{\vel}{u}         % velocity

% fluid mechanics
%
\providecommand*{\kdvisc}{\mu} % dynamic viscosity
\providecommand*{\kkvisc}{\nu} % kinematic viscosity
\providecommand*{\press}{p}    % pressure
\providecommand*{\spvol}{\eta} % specific volume

% transport
%
\providecommand*{\energy}{e}    % energy
\providecommand*{\flow}{q}      % flow
\providecommand*{\flux}{f}      % flux
\providecommand*{\ssink}{s}     % sources, sinks
\providecommand*{\temp}{\theta} % temperature
%
\providecommand*{\kecond}{k}      % energy (thermal) conduction
\providecommand*{\kediff}{\alpha} % energy (thermal) diffusivity

% flow through permeable media
%
\providecommand*{\fluidity}{\phi}         % fluidity
\providecommand*{\mobility}{\lambda}      % mobility
\providecommand*{\permea}{k}              % permeability
\providecommand*{\poros}{\psi}            % porosity
\providecommand*{\rfluidity}{\fluidity^*} % reduced fluidity
