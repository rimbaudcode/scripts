% name:          artarticle.sty
% version:       see scripts/VERSION.md
% synopsis:      style for short `TeX`-based articles.
% license:       BSD3
% license-file:  scripts/LICENSE.md
% author:        art rimbaud
% maintainer:    rimbaudcode[at]gmail(DoT)com
% copyright:     (c) 2017 rimbaudcode
% category:      Text

\ProvidesPackage{sty/artarticle}
                [05/04/2017 style for short articles, rimbaudcode.]

% packages
%
\RequirePackage{afterpage}
\RequirePackage[pdalt]{bropd}
\RequirePackage[makeroom]{cancel}
\RequirePackage{colonequals}
\RequirePackage{currfile}
\RequirePackage[hhmmss]{datetime}
\RequirePackage{enumitem}
\RequirePackage{epigraph}
\RequirePackage{graphicx}
\RequirePackage{lastpage}
\RequirePackage[fixamsmath,disallowspaces]{mathtools}
\RequirePackage[version=4]{mhchem}
\RequirePackage{microtype}
\RequirePackage{mleftright}
\RequirePackage{natbib}
\RequirePackage[thmmarks,amsmath]{ntheorem}
\RequirePackage[draft]{prelim2e}
\RequirePackage{quoting}
\RequirePackage{relsize}
\RequirePackage{tabularx}
\RequirePackage{tensor}
%\RequirePackage[inline]{showlabels}
\RequirePackage{siunitx}
\RequirePackage{upgreek}
\RequirePackage[dvipsnames,table]{xcolor}
\RequirePackage{xspace}
%
\RequirePackage{listings}
\lstset{language=Mathematica}
\lstset{basicstyle={\ttfamily\footnotesize},
  numbers=left,
  numberstyle=\tiny\color{gray},
  numbersep=5pt,
  breaklines=true,
  captionpos={t},
%  frame={lines},
%  rulecolor=\color{black},
%  framerule=0.5pt,
  columns=flexible,
  tabsize=2,
  morekeywords={NDSolveValue, Laplacian, DirichletCondition, Disk, NeumannValue, ImplicitRegion}
}
%
% special packages (preserve order!)
%
\RequirePackage{accents}
\RequirePackage{pdfsync}
\RequirePackage[xetex]{hyperref}
\RequirePackage{hypcap}
\RequirePackage{cleveref}

% language
%
\RequirePackage[english]{babel}

% fonts
%
% Minion Pro with old style numerals
%
\RequirePackage[no-math]{mathspec} % oldstyle nums in math mode
\RequirePackage{xunicode}          % xetex
\RequirePackage{xltxtra}           % xetex

\setmathsfont(Digits)[Numbers={OldStyle}]{MinionPro-Regular} %
\setsansfont[Mapping=tex-text,Scale=0.9]{Myriad Pro}         % sans font
\setmonofont[Mapping=tex-text,Scale=0.8]{Source Code Pro}    % mono font
\defaultfontfeatures{Numbers=OldStyle}                       % before setting the roman font
\setmainfont[Mapping=tex-text]{MinionPro-Regular}            % roman font
\addfontfeature{Kerning=Uppercase}                           % space in Uppercase

% Labels
%
% label in description env.
%
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textsl{#1}:}
%
% cref labels
%
\crefname{model}{model}{models}
\crefname{proof}{proof}{proofs}
\crefname{observation}{observation}{observations}
\crefname{scaling}{scaling}{scaling}

% showlabels package
%
%\renewcommand{\showlabelfont}{\footnotesize\sffamily\color{VioletRed}}

% siunitx setup
%
\sisetup{
  exponent-product = \cdot % use cdot instead of times in sci notation
}

% hyperref setup
%
\hypersetup{
  colorlinks=true,
  linktocpage=true,
  linktocpage=false,
  pdfstartpage=1,
  breaklinks=true,
  pdfpagemode=UseNone,
  pageanchor=true,
  pdfpagemode=UseOutlines,
  plainpages=false,
  bookmarksnumbered,
  bookmarksopen=true,
  bookmarksopenlevel=1,
  hypertexnames=true,
  pdfhighlight=/O,
  %
  %urlcolor=black,
  %linkcolor=black,
  %citecolor=black,
  %
  %pdftitle={\thetitle},
  %pdfauthor={\theauthor},
  %pdfsubject={},
  %pdfkeywords={},
  %pdfcreator={XeLaTeX with package hyperref},
}

% document version
%
% preliminary version
%
\renewcommand*{\PrelimWords}{\relax}
\renewcommand*{\PrelimText}{
  \footnotesize{\code{
    [\ddmmyyyydate\today\ -- \currenttime\ -- \currfilename\ -- pp.~\pageref{LastPage}]}
    }
}
